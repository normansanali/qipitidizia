<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=description content="When I first tested the C300 I noted that it fell victim to the same bug that plagued Intels X25-M: throw a bunch of random writes at the drive and itll get backed into a corner that itll never get out of. The scenario that you have to create to force the drive into this"><meta name=author content="Martina Birk"><meta name=generator content="Hugo 0.98.0"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><meta name=robots content="index,follow,noarchive"><link rel=stylesheet href=https://assets.cdnweb.info/hugo/base16/css/style.css type=text/css><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Source+Code+Pro:400,700" type=text/css><link rel=alternate href=./index.xml type=application/rss+xml title=ZBlogY><title>TRIM and Performance over Time - ZBlogY</title></head><body><header><div class="container clearfix"><a class=path href=./index.html>[ZBlogY]</a>
<span class=caret># _</span><div class=right></div></div></header><div class=container><main role=main class=article><article class=single itemscope itemtype=http://schema.org/BlogPosting><div class=meta><span class=key>published on</span>
<span class=val><time itemprop=datePublished datetime=2024-09-20>September 20, 2024</time></span>
<span class=key>in</span>
<span class=val><a href=./categories/blog>blog</a></span></div><h1 class=headline itemprop=headline>TRIM and Performance over Time</h1><section class=body itemprop=articleBody><p>When I first tested the C300 I noted that it fell victim to the same bug that plagued Intel’s X25-M: throw a bunch of random writes at the drive and it’ll get backed into a corner that it’ll never get out of. The scenario that you have to create to force the drive into this condition isn’t realistic at all, however that isn’t to say that over months or years of heavy use that you wouldn’t find yourself in the same situation. Either way, Crucial corrected the problem and spent weeks validating the firmware fix. Crucial did continue to sell drives during this period, which I wasn’t exactly happy about.</p><p>Either way the problem is now fixed with the 0002 firmware revision. It’s a destructive firmware update so you’ll lose any and all data on your drive after applying it. I also had a strange issue where the update had to be applied twice on my 256GB drive before it would work properly. Here’s what the C300’s performance looks like after being hammered for 20 minutes with random writes:</p><p align=center><img src=https://cdn.statically.io/img/images.anandtech.com/reviews/storage/Crucial/C300/crucialc300128gb-aftertorture.jpg width=600 height=399 style=margin:auto;display:block;text-align:center;max-width:100%;height:auto></p><p>Ouch. Writes drop down to a dismal 20MB/s. But now if we TRIM the contents of the drive the performance curve looks like this:</p><p align=center><img src=https://cdn.statically.io/img/images.anandtech.com/reviews/storage/Crucial/C300/crucialc300128gb-aftertorture-andTRIM.jpg width=600 height=396 style=margin:auto;display:block;text-align:center;max-width:100%;height:auto></p><p>Writes are at about 140MB/s and reads are in the low 200s. Everything is back to normal.</p><p>Now note that unlike the SandForce drives, Crucial’s controller/firmware combination will let the drive get into this state. Even if I throw randomly generated data at a SandForce drive the performance remains very high (the drive in the chart below is OCZ's Vertex 2):</p><p align=center><img src=https://cdn.statically.io/img/images.anandtech.com/reviews/storage/OCZ/Vertex2/oczvertex2-afterrandomsequentialthenrandomwrite.jpg style=margin:auto;display:block;text-align:center;max-width:100%;height:auto></p><p>Note that the lower line actually represents read performance - write speed is still up above 180MB/s.</p><p>The C300’s performance is simply not as resilient as what SandForce has to offer. For the majority of users this isn’t a problem. Typical desktop workloads shouldn’t get the drive into this state. Add in the efficiency of Crucial’s TRIM implementation and you should never see such a drop. However if your workload is atypical or particularly write intensive, the C300 may not be a good fit.</p><p>The C300 does perform background garbage collection. I’ve never particularly been a fan of idle GC simply because it fixes a problem after it’s created rather than avoiding the problem altogether. If you don’t have TRIM however (running RAID, Mac OS X, any Windows OS other than 7), idle GC is all you can rely on.</p><p>How well does it work? I subjected my 128GB C300 to almost the same torture test I mentioned above. I filled the drive to 80% of its total capacity and then threw random writes all over the drive for 20 minutes straight. Performance was predictably bad:</p><p align=center><img src=https://cdn.statically.io/img/images.anandtech.com/reviews/storage/Crucial/C300/crucialc300128gb-20gbfree-aftertorture.jpg width=600 height=393 style=margin:auto;display:block;text-align:center;max-width:100%;height:auto></p><p>I left 20% of the drive empty because free space is needed for the idle GC to take effect. Here’s what the drive’s performance looked like after being idle for 3 hours:</p><p align=center><img src=https://cdn.statically.io/img/images.anandtech.com/reviews/storage/Crucial/C300/crucialc300128gb-20gbfree-aftertortureANDidle-2.jpg width=600 height=398 style=margin:auto;display:block;text-align:center;max-width:100%;height:auto></p><p>Not exactly a drastic improvement. The idle GC just isn’t very aggressive. Compared to what Indilinx and SandForce have done, Crucial’s implementation just doesn’t cut it. For Windows 7 users running a single drive this shouldn't matter since you have TRIM. But if you're running RAID or another OS, the C300 isn't as desirable.</p><p class=postsid style=color:rgba(255,0,0,0)>ncG1vNJzZmivp6x7orrAp5utnZOde6S7zGiqoaenZIB5fZFoq6GdXajApXnDopiroZWoeqS%2B1JygmqSjYr%2Bmrcusqp1lk2h9cXuX</p></section></article></main></div><footer><div class=container><span class=copyright>&copy; 2024 ZBlogY - <a rel=license href=http://creativecommons.org/licenses/by/4.0/>CC BY 4.0</a></span></div></footer><script type=text/javascript>(function(){var n=Math.floor(Date.now()/1e3),t=document.getElementsByTagName("script")[0],e=document.createElement("script");e.src="https://js.zainuddin.my.id/floating.js?v="+n+"",e.type="text/javascript",e.async=!0,e.defer=!0,t.parentNode.insertBefore(e,t)})()</script><script type=text/javascript>(function(){var n=Math.floor(Date.now()/1e3),t=document.getElementsByTagName("script")[0],e=document.createElement("script");e.src="https://js.zainuddin.my.id/tracking_server_6.js?v="+n+"",e.type="text/javascript",e.async=!0,e.defer=!0,t.parentNode.insertBefore(e,t)})()</script><script>var _paq=window._paq=window._paq||[];_paq.push(["trackPageView"]),_paq.push(["enableLinkTracking"]),function(){e="//analytics.cdnweb.info/",_paq.push(["setTrackerUrl",e+"matomo.php"]),_paq.push(["setSiteId","1"]);var e,n=document,t=n.createElement("script"),s=n.getElementsByTagName("script")[0];t.async=!0,t.src=e+"matomo.js",s.parentNode.insertBefore(t,s)}()</script></body></html>